function mod10(length,number){var loopflag="single";var sum=0;while(length>0){x=number.substring(length-1,length);x=parseInt(x);length=length-1;number=number.substring(0,length);if(loopflag=="double"){x=x*2;if(x>9){x=x-10+1;}sum=x+sum;loopflag="single";}else{sum=x+sum;loopflag="double";}}sum+="";sum=sum.substring(sum.length-1,sum.length);if(sum=="0"){return 0;}else{return 1;}}function check_cc_number(){var cc_number=document.orderForm.cardNumber.value;var cc_length=document.orderForm.cardNumber.value.length;var ccIndx=document.orderForm.cardType.selectedIndex;var cc_type=document.orderForm.cardType.options[ccIndx].value;var msg_flag=0;if(cc_type=="MasterCard"){if(cc_length==16){if(cc_number.substring(0,2)>=51||cc_number.substring(0,2)<=55){msg_flag=mod10(cc_length,cc_number);}else{msg_flag=1;}}else{msg_flag=1;}}if(cc_type=="VISA"){if((cc_length==16)||(cc_length==13)){if(cc_number.substring(0,1)==4){msg_flag=mod10(cc_length,cc_number);}else{msg_flag=1;}}else{msg_flag=1;}}if(cc_type=="AMEX"){if(cc_length==15){if(cc_number.substring(0,2)==34||cc_number.substring(0,2)==37){msg_flag=mod10(cc_length,cc_number);}else{msg_flag=1;}}else{msg_flag=1;}}return msg_flag;}function myInt(val){for(var i=0;i<val.length;i++){if(!myDigit(val.charAt(i))){return false;}}return true;}function myDigit(num){var string="1234567890";if(string.indexOf(num)!=-1){return true;}return false;}function isLetters(theValue){lettersValueList="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'. -";for(var j=0;j<theValue.length;j++){aCaracOfTheValue=theValue.substring(j,j+1);if(lettersValueList.indexOf(aCaracOfTheValue)<0){return false;}}return true;}function checkPaymentInfo(){var d=new Date();currentMonth=d.getMonth()<10?'0':''+parseInt(d.getMonth()+1);currentYear=d.getFullYear().toString().substr(2,2);if(document.orderForm.cardType&&(document.orderForm.cardType.value=="VISA"||document.orderForm.cardType.value=="MasterCard"||document.orderForm.cardType.value=="AMEX")){if(document.orderForm.cardName.value==""){alert("Please enter Card Name!");return false;}else if(!isLetters(document.orderForm.cardName.value)){alert("Please enter only Characters in the Card Name Field.");return false;}if(!myInt(document.orderForm.cardNumber.value)||document.orderForm.cardNumber.value.indexOf(" ")!=-1){alert("Card number invalid. Please verify and try again.");return false;}if(check_cc_number()==1){alert("Card number invalid - please verify that you have entered the number correctly without spaces or extra characters for the card type chosen.");return false;}if(currentMonth>document.orderForm.cMonth.options[document.orderForm.cMonth.selectedIndex].value&&currentYear==document.orderForm.cYear.options[document.orderForm.cYear.selectedIndex].value){alert("Card expiry date is in the past. Please verify and try again.");return false;}if(!myInt(document.orderForm.cardCVD.value)||document.orderForm.cardCVD.value.indexOf(" ")!=-1||document.orderForm.cardCVD.value==""){alert("CVV number is invalid!");return false;}}return true;}function checkPaymentInfoFR(){var d=new Date();currentMonth=d.getMonth()<10?'0':''+parseInt(d.getMonth()+1);currentYear=d.getFullYear().toString().substr(2,2);if(document.orderForm.cardType&&(document.orderForm.cardType.value=="VISA"||document.orderForm.cardType.value=="MasterCard"||document.orderForm.cardType.value=="AMEX")){if(document.orderForm.cardName.value==""){alert("S'il vous plaît entrez le nom de la carte!");return false;}else if(!isLetters(document.orderForm.cardName.value)){alert("S'il vous plaît entrer que les caractères dans le champ Nom de la carte.");return false;}if(!myInt(document.orderForm.cardNumber.value)||document.orderForm.cardNumber.value.indexOf(" ")!=-1){alert("Numéro de carte invalide. S'il vous plaît vérifier et essayer à nouveau.");return false;}if(check_cc_number()==1){alert("Numéro de carte invalide - Veuillez vérifier que vous avez entré correctement le numéro sans espaces ni de caractères supplémentaires pour le type de carte choisi.");return false;}if(currentMonth>document.orderForm.cMonth.options[document.orderForm.cMonth.selectedIndex].value&&currentYear==document.orderForm.cYear.options[document.orderForm.cYear.selectedIndex].value){alert("Date d'expiration est dans le passé. S'il vous plaît vérifier et essayer à nouveau.");return false;}if(!myInt(document.orderForm.cardCVD.value)||document.orderForm.cardCVD.value.indexOf(" ")!=-1||document.orderForm.cardCVD.value==""){alert("Numéro CVV invalid!");return false;}}return true;}function updateIcon(){if(jQuery("#cardType").val()=="VISA")jQuery("#credit-card-icon").html('<i class="fa-brands fa-cc-visa"></i>');if(jQuery("#cardType").val()=="MasterCard")jQuery("#credit-card-icon").html('<i class="fa-brands fa-cc-mastercard"></i>');if(jQuery("#cardType").val()=="AMEX")jQuery("#credit-card-icon").html('<i class="fa-brands fa-cc-amex"></i>');if(jQuery("#cardType").val()=="INTERAC")jQuery("#credit-card-icon").html('<i class="fa-brands fa-credit-card"></i>');if(jQuery("#cardType").val()=="PayPal")jQuery("#credit-card-icon").html('<i class="fa-brands fa-cc-paypal"></i>');if(jQuery("#cardType").val()=="Test"||jQuery("#cardType").val()=="Other")jQuery("#credit-card-icon").html('');if(jQuery("#cardType").val()=="VISA"||jQuery("#cardType").val()=="MasterCard"||jQuery("#cardType").val()=="AMEX"){jQuery("#cardName-row").show();jQuery("#cardNumber-row").show();jQuery("#cardExpiration-row").show();jQuery("#cardCVV-row").show();}if(jQuery("#cardType").val()=="INTERAC"){jQuery("#interac-row").show();jQuery("#cardName-row").hide();jQuery("#cardNumber-row").hide();jQuery("#cardExpiration-row").hide();jQuery("#cardCVV-row").hide();}if(jQuery("#cardType").val()=="Test"||jQuery("#cardType").val()=="PayPal"||jQuery("#cardType").val()=="Other"){jQuery("#cardName-row").hide();jQuery("#cardNumber-row").hide();jQuery("#cardExpiration-row").hide();jQuery("#cardCVV-row").hide();}}